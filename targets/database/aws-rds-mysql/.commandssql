mysql --user admin --host aglarond.caceb4shewdg.ap-southeast-2.rds.amazonaws.com -pTeleport1234 <<EOF
CREATE USER developer IDENTIFIED WITH AWSAuthenticationPlugin AS 'RDS';
CREATE USER devops IDENTIFIED WITH AWSAuthenticationPlugin AS 'RDS';
CREATE USER arwen IDENTIFIED WITH AWSAuthenticationPlugin AS 'RDS';
CREATE USER superops IDENTIFIED WITH AWSAuthenticationPlugin AS 'RDS';
CREATE DATABASE if not exists products;
CREATE DATABASE if not exists customers;
USE products;
CREATE TABLE vendors (vendorID int, vendorname varchar(255));
USE customers;
CREATE TABLE contact_details (customerID int, contact_name varchar(255), contact_phone varchar(255), contact_email varchar(255));
GRANT ALL PRIVILEGES ON customers.* TO 'developer'@'%';
GRANT ALL PRIVILEGES ON products.* TO 'developer'@'%';
GRANT SELECT, SHOW VIEW ON *.* TO 'devops'@'%';
GRANT SELECT, SHOW VIEW ON *.* TO 'superops'@'%';
GRANT SELECT, SHOW VIEW ON products.* TO 'arwen'@'%';
EOF

mysql --user admin --host erebor.caceb4shewdg.ap-southeast-2.rds.amazonaws.com -pTeleport1234 <<EOF
CREATE USER developer IDENTIFIED WITH AWSAuthenticationPlugin AS 'RDS';
CREATE USER devops IDENTIFIED WITH AWSAuthenticationPlugin AS 'RDS';
CREATE USER arwen IDENTIFIED WITH AWSAuthenticationPlugin AS 'RDS';
CREATE USER superops IDENTIFIED WITH AWSAuthenticationPlugin AS 'RDS';
CREATE DATABASE if not exists products;
CREATE DATABASE if not exists customers;
USE products;
CREATE TABLE vendors (vendorID int, vendorname varchar(255));
USE customers;
CREATE TABLE contact_details (customerID int, contact_name varchar(255), contact_phone varchar(255), contact_email varchar(255));
GRANT ALL PRIVILEGES ON customers.* TO 'developer'@'%';
GRANT ALL PRIVILEGES ON products.* TO 'developer'@'%';
GRANT SELECT, SHOW VIEW ON *.* TO 'devops'@'%';
GRANT SELECT, SHOW VIEW ON *.* TO 'superops'@'%';
GRANT SELECT, SHOW VIEW ON products.* TO 'arwen'@'%';
EOF

mysql --user admin --host ironhills.caceb4shewdg.ap-southeast-2.rds.amazonaws.com -pTeleport1234 <<EOF
CREATE USER developer IDENTIFIED WITH AWSAuthenticationPlugin AS 'RDS';
CREATE USER devops IDENTIFIED WITH AWSAuthenticationPlugin AS 'RDS';
CREATE USER arwen IDENTIFIED WITH AWSAuthenticationPlugin AS 'RDS';
CREATE USER superops IDENTIFIED WITH AWSAuthenticationPlugin AS 'RDS';
CREATE DATABASE if not exists products;
CREATE DATABASE if not exists customers;
USE products;
CREATE TABLE vendors (vendorID int, vendorname varchar(255));
USE customers;
CREATE TABLE contact_details (customerID int, contact_name varchar(255), contact_phone varchar(255), contact_email varchar(255));
GRANT ALL PRIVILEGES ON customers.* TO 'developer'@'%';
GRANT ALL PRIVILEGES ON products.* TO 'developer'@'%';
GRANT SELECT, SHOW VIEW ON *.* TO 'devops'@'%';
GRANT SELECT, SHOW VIEW ON *.* TO 'superops'@'%';
GRANT SELECT, SHOW VIEW ON products.* TO 'arwen'@'%';
EOF

insert into contact_details values (1, 'Dan Kirkwood', '0423537743', 'dan.kirkwood@goteleport.com');